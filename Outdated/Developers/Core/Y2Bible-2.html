<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>The YaST2 Component Architecture: Design Goals</TITLE>
 <LINK HREF="Y2Bible-3.html" REL=next>
 <LINK HREF="Y2Bible-1.html" REL=previous>
 <LINK HREF="Y2Bible.html#toc2" REL=contents>
</HEAD>
<BODY>
<A HREF="Y2Bible-3.html">Next</A>
<A HREF="Y2Bible-1.html">Previous</A>
<A HREF="Y2Bible.html#toc2">Contents</A>
<HR>
<H2><A NAME="s2">2. Design Goals</A></H2>

<P>
<P>If you know the design goals of the Y2 architecture you probably can better
understand the actual design decisions.
<P>
<UL>
<LI><B>Flexibility:</B> It should be easy to enhance the system, it should
be possible to bring in new components or replace existing ones without
recompiling Y2. It should be sufficient to install files, e.g. by installing
an RPM package. It should be possible for third parties to write components.
</LI>
<LI><B>Compactness:</B> At times where flexibility is not an important
issue it should be possible to build the system such that it is robust and
space and time efficient without paying the cost of the flexibility. This
especially holds during the installation procedure, where memory usage is the
most rigid constraint. Here it's much nicer to have one binary then a fragile
system consisting of a dozen daemons, twenty socket connections, and three
concurrent component distributing service handler name cache proxies, which
are realized by shared library plugins.
</LI>
<LI><B>Simplicity:</B> Consider adopting KISS
<BLOCKQUOTE>Keep it simple,
stupid.</BLOCKQUOTE>
 as your motto. All technical stuff should be encapsulated
in libraries with clear APIs. Foreign technologies should be used only, if
they simplify our own code. It's much more easy to adapt your own stuff to
your needs then foreign stuff. Furthermore the effort of integrating a
technology into your system may be greater then writing something that fits
exactly to your needs, especially if you need just a small part of that
technology
<BLOCKQUOTE>If you consider using CORBA as component system, please
have a look at the size of libmico (stripped 4.8 MB) and compare it against
libycp and liby2 (together 920kB), where libycp also contains a full featured
scripting language!</BLOCKQUOTE>
. Try to avoid daemons. In general a system that
needs a daemon in order to run is more likely to malfunction then one, that
doesn't
<BLOCKQUOTE>This is a direct consequence of Murphy's Law. Daemons tend to
not being started, and if though then to crash at arbitrary moments. Also they
hide from the sunlight and you'll never see them.</BLOCKQUOTE>
.

And don't invent your own security concept, if that of Linux can be used and
is sufficient. You can guess that it's well tested!
</LI>
<LI><B>Openness:</B> This really is a design issue, and an important one,
too. It should be able to run a component isolated from the others or to watch
the data streams between two components. It is more easy to understand and
modify a script than a binary. Wherever pure speed is not the primary issue
data should be kept in ASCII.
</LI>
<LI><B>Rapid development:</B> The better you divide our system into
separate layers and components the better you can distribute the work load on
a team. If you have one big beast of highly sophisticated and interconnected
C++ code, those developers who must lay a hand on that code, will continue to
tread on each others feet
<BLOCKQUOTE>Of course, due to the law of the strange
and fundamental interconnectedness of all things it is not possible to write
completely independent components.</BLOCKQUOTE>
.

Another important issue is the problem of memory and pointer bugs in C/C++
programs. It is very difficult to avoid them in general if the code is longer
than a few dozen lines. A good thing how you can tackle this problem is to
develop a small and robust base system that is thoroughly tested and
code-reviewed and provides some means to implement more complex functionality
by other means than writing C/C++. This can for example be a scripting
language.
</LI>
<LI><B>Network transparency:</B> It should be possible to map
configuration and installation over arbitrary network connections, in a safe
way.
</LI>
</UL>
<P>
<P>
<HR>
<A HREF="Y2Bible-3.html">Next</A>
<A HREF="Y2Bible-1.html">Previous</A>
<A HREF="Y2Bible.html#toc2">Contents</A>
</BODY>
</HTML>
