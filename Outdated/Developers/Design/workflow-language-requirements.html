<HTML>
<HEAD>
<TITLE>YaST2: Design: Workflow language</TITLE>
</HEAD>
<BODY>
<H1>YaST2: Design: Workflow language</H1>

<H2>Purpose</h2>

The original purpose of the workflow language is to glue together several
modules to construct a workflow.
<p>
This involves calling services provided by modules, checking return values,
communicating with the user (presenting data, asking for data, providing choices)
and storing and retrieving data from the repository.
<p>
<H3>language requirements</h3>
<ul>
  coupling of modules<br>
  <ul>
     calling a module<br>
     providing parameter values<br>
     retrieving return values<br>
     checking return values<br>
  </ul>
  implementing workflows<br>
  <ul>
     variables<br>
     control statements (if-then-else, schleifen, switch/case)<br>
     assignments<br>
  </ul>
  user tasks, priviliged tasks<br>
  <ul>
    (i.e. <tt>AS ROOT DO <i>cmd</i></tt>)<br>
  </ul>
  easy to learn and understand<br>
  imperativ, procedural<br>
  small (Bootdisk!)<br>
  minimal set of language elements<br>
  implemented as an interpreter
  <ul>
    run-time parsing postpones error checking to execution time (bad !)<br>
    size constrains demand separation of scanner/parser and interpreter<br>
    Possible solution: bytecode<br>
  </ul>
  strong typing ?<br>
  <ul>
    not neccessarily, it can be done by run-time-typechecking with
    help from the compiler
  </ul>
  not time-critical
  <ul>
    time critical tasks should be implemented in a compiled language, e.g C<br>
  </ul>
  <em>space</em> more important than <em>time</em><br>
  minimal set of language elements<br>
  <ul>
    configurable compiler and interpreter (?)<br>
  </ul>
  signature for modules<br>
  <ul>
    it is desirable to have a signature for modules to guarantee, that all
    used modules are <i>SuSE-approved</i>. Changing a module can be error-prone
    like compiling a new kernel ...
  </ul>
</ul>
<hr>
<h3>language elements</h3>
The language must provide elements for
<ul>
  calling other modules<br>
  <ul>
    modules must be known to the wfm<br>
    a module can ask the wfm about other modules<br>
  </ul>
  passing parameters<br>
  <ul>
    internally based on internal data representation<br>
    externally based on string representation and argc/argv<br>
  </ul>
  reception of values<br>
  <ul>
    return codes (integer, string, ...)<br>
    special area in repository (module specific)<br>
    global area in repository (global data)<br>
  </ul>
  Variables<br>
  <ul>
    workflow-language (local variables)<br>
    repository (global variables)<br>
  </ul>
  if-then-else<br>
  <ul>Workflow-Language: if, then, else</ul>
  loops<br>
  <ul>Workflow-Language: for, while</ul>
  switch/case<br>
  <ul>Workflow-Language: switch</ul>
  assignments<br>
  <ul>
    workflow-language, assignment operator<br>
    repository, write command<br>
  </ul>
</ul>

<p><hr>
<SMALL>Last changed 16-7-1999 14:45, <A HREF="mailto:kskaem@suse.de">Klaus Kämpf</A></SMALL><BR>
<SMALL>Copyright &copy; by <A HREF="http://w3.suse.de">SuSE GmbH</A></SMALL>
</BODY>
</HTML>
